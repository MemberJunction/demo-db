-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: Organization Links
-- Item: spCreateOrganizationLink
-- Generated: 3/13/2024, 8:19:42 PM
--
-- This was generated by the Entity Generator.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR OrganizationLink
------------------------------------------------------------
DROP PROCEDURE IF EXISTS [common].[spCreateOrganizationLink]
GO

CREATE PROCEDURE [common].[spCreateOrganizationLink]
    @MembershipCompanyID int,
    @EventsOrganizationID int,
    @EducationCompanyID int,
    @CommunityCompanyID int
AS
BEGIN
    SET NOCOUNT ON;
    
    INSERT INTO 
    [common].[OrganizationLink]
        (
            [MembershipCompanyID],
            [EventsOrganizationID],
            [EducationCompanyID],
            [CommunityCompanyID]
        )
    VALUES
        (
            @MembershipCompanyID,
            @EventsOrganizationID,
            @EducationCompanyID,
            @CommunityCompanyID
        )
    -- return the new record from the base view, which might have some calculated fields
    SELECT * FROM [common].[vwOrganizationLinks] WHERE [OrganizationLinkID] = SCOPE_IDENTITY()
END
GO
GRANT EXECUTE ON [common].[spCreateOrganizationLink] TO [cdp_Developer], [cdp_Integration]



-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: Person Links
-- Item: spCreatePersonLink
-- Generated: 3/13/2024, 8:19:42 PM
--
-- This was generated by the Entity Generator.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- CREATE PROCEDURE FOR PersonLink
------------------------------------------------------------
DROP PROCEDURE IF EXISTS [common].[spCreatePersonLink]
GO

CREATE PROCEDURE [common].[spCreatePersonLink]
    @MembershipMemberID int,
    @EventsAttendeeID int,
    @EducationStudentID int,
    @CommunityAuthorID int
AS
BEGIN
    SET NOCOUNT ON;
    
    INSERT INTO 
    [common].[PersonLink]
        (
            [MembershipMemberID],
            [EventsAttendeeID],
            [EducationStudentID],
            [CommunityAuthorID]
        )
    VALUES
        (
            @MembershipMemberID,
            @EventsAttendeeID,
            @EducationStudentID,
            @CommunityAuthorID
        )
    -- return the new record from the base view, which might have some calculated fields
    SELECT * FROM [common].[vwPersonLinks] WHERE [PersonLinkID] = SCOPE_IDENTITY()
END
GO
GRANT EXECUTE ON [common].[spCreatePersonLink] TO [cdp_Developer], [cdp_Integration]



-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: Organization Links
-- Item: spUpdateOrganizationLink
-- Generated: 3/13/2024, 8:19:42 PM
--
-- This was generated by the Entity Generator.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR OrganizationLink  
------------------------------------------------------------
DROP PROCEDURE IF EXISTS [common].[spUpdateOrganizationLink]
GO

CREATE PROCEDURE [common].[spUpdateOrganizationLink]
    @OrganizationLinkID int,
    @MembershipCompanyID int,
    @EventsOrganizationID int,
    @EducationCompanyID int,
    @CommunityCompanyID int
AS
BEGIN
    SET NOCOUNT ON;
    UPDATE 
        [common].[OrganizationLink]
    SET 
        [MembershipCompanyID] = @MembershipCompanyID,
        [EventsOrganizationID] = @EventsOrganizationID,
        [EducationCompanyID] = @EducationCompanyID,
        [CommunityCompanyID] = @CommunityCompanyID,
        [UpdatedAt] = GETDATE()
    WHERE 
        [OrganizationLinkID] = @OrganizationLinkID

    -- return the updated record so the caller can see the updated values and any calculated fields
    SELECT * FROM [common].[vwOrganizationLinks] WHERE [OrganizationLinkID] = @OrganizationLinkID
END
GO
GRANT EXECUTE ON [common].[spUpdateOrganizationLink] TO [cdp_Developer], [cdp_Integration]
    


-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: Person Links
-- Item: spUpdatePersonLink
-- Generated: 3/13/2024, 8:19:42 PM
--
-- This was generated by the Entity Generator.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR PersonLink  
------------------------------------------------------------
DROP PROCEDURE IF EXISTS [common].[spUpdatePersonLink]
GO

CREATE PROCEDURE [common].[spUpdatePersonLink]
    @PersonLinkID int,
    @MembershipMemberID int,
    @EventsAttendeeID int,
    @EducationStudentID int,
    @CommunityAuthorID int
AS
BEGIN
    SET NOCOUNT ON;
    UPDATE 
        [common].[PersonLink]
    SET 
        [MembershipMemberID] = @MembershipMemberID,
        [EventsAttendeeID] = @EventsAttendeeID,
        [EducationStudentID] = @EducationStudentID,
        [CommunityAuthorID] = @CommunityAuthorID,
        [UpdatedAt] = GETDATE()
    WHERE 
        [PersonLinkID] = @PersonLinkID

    -- return the updated record so the caller can see the updated values and any calculated fields
    SELECT * FROM [common].[vwPersonLinks] WHERE [PersonLinkID] = @PersonLinkID
END
GO
GRANT EXECUTE ON [common].[spUpdatePersonLink] TO [cdp_Developer], [cdp_Integration]
    


-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: Organization Links
-- Item: vwOrganizationLinks
-- Generated: 3/13/2024, 8:19:42 PM
--
-- This was generated by the Entity Generator.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      Organization Links
-----               SCHEMA:      common
-----               BASE TABLE:  OrganizationLink
-----               PRIMARY KEY: OrganizationLinkID
------------------------------------------------------------
DROP VIEW IF EXISTS [common].[vwOrganizationLinks]
GO

CREATE VIEW [common].[vwOrganizationLinks]
AS
SELECT 
    o.*
FROM
    [common].[OrganizationLink] AS o
GO
GRANT SELECT ON [common].[vwOrganizationLinks] TO [cdp_UI], [cdp_Developer], [cdp_Integration]



-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: Person Links
-- Item: vwPersonLinks
-- Generated: 3/13/2024, 8:19:42 PM
--
-- This was generated by the Entity Generator.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- BASE VIEW FOR ENTITY:      Person Links
-----               SCHEMA:      common
-----               BASE TABLE:  PersonLink
-----               PRIMARY KEY: PersonLinkID
------------------------------------------------------------
DROP VIEW IF EXISTS [common].[vwPersonLinks]
GO

CREATE VIEW [common].[vwPersonLinks]
AS
SELECT 
    p.*
FROM
    [common].[PersonLink] AS p
GO
GRANT SELECT ON [common].[vwPersonLinks] TO [cdp_UI], [cdp_Developer], [cdp_Integration]




GRANT EXECUTE ON [common].[spCreateOrganizationLink] TO [cdp_Developer], [cdp_Integration]





GRANT EXECUTE ON [common].[spCreatePersonLink] TO [cdp_Developer], [cdp_Integration]





GRANT EXECUTE ON [common].[spUpdateOrganizationLink] TO [cdp_Developer], [cdp_Integration]





GRANT EXECUTE ON [common].[spUpdatePersonLink] TO [cdp_Developer], [cdp_Integration]




-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: Organization Links
-- Item: Permissions for vwOrganizationLinks
-- Generated: 3/13/2024, 8:19:42 PM
--
-- This was generated by the Entity Generator.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

GRANT SELECT ON [common].[vwOrganizationLinks] TO [cdp_UI], [cdp_Developer], [cdp_Integration]


-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: Person Links
-- Item: Permissions for vwPersonLinks
-- Generated: 3/13/2024, 8:19:42 PM
--
-- This was generated by the Entity Generator.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

GRANT SELECT ON [common].[vwPersonLinks] TO [cdp_UI], [cdp_Developer], [cdp_Integration]


